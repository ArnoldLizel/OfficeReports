<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stylish Procurement Table</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
  body {
    overflow: visible !important;
    background: transparent !important;
  }
  .overflow-x-auto {
    overflow: visible !important;
  }
  td {
  background-color: white; /* keeps background solid */
}

textarea {
  background-color: white; /* keeps textarea white too */
  display: block;
  box-sizing: border-box;
}
</style>
  <script>
    // Function to auto-expand textareas in both directions
    function autoExpand(textarea) {
      textarea.style.height = 'auto';
      textarea.style.width = 'auto';
      textarea.style.height = textarea.scrollHeight + 'px';
      textarea.style.width = Math.max(textarea.scrollWidth, 150) + 'px'; // min width 150px
    }

    // Function to calculate ABC sum
    function calculateTotal() {
      let abc1 = parseFloat(document.getElementById("abc1").value) || 0;
      let abc2 = parseFloat(document.getElementById("abc2").value) || 0;
      document.getElementById("abcTotal").value = abc1 + abc2;
    }
  </script>
</head>
<body class="p-1 min-h-screen flex items-center justify-center">

  <div class="overflow-x-auto w-full max-w-6xl shadow-xl rounded-lg bg-white">
    <table class="w-full border border-gray-300 border-collapse rounded-lg overflow-hidden">
      <!-- Header Row -->
      <thead>
        <tr class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-center text-sm uppercase tracking-wider">
          <th rowspan="2" class="border border-gray-300 px-3 py-2">Item Nr</th>
          <th rowspan="2" class="border border-gray-300 px-3 py-2">Title</th>
          <th rowspan="2" class="border border-gray-300 px-3 py-2">ABC</th>
          <th colspan="6" class="border border-gray-300 px-3 py-2">Procurement Phase</th>
          <th rowspan="2" class="border border-gray-300 px-3 py-2">Remarks</th>
        </tr>
        <tr class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white text-center text-sm uppercase tracking-wider">
          <th class="border border-gray-300 px-3 py-2">Pre-Proc</th>
          <th class="border border-gray-300 px-3 py-2">Pre-Bid</th>
          <th class="border border-gray-300 px-3 py-2">SOBE</th>
          <th class="border border-gray-300 px-3 py-2">PQ</th>
          <th class="border border-gray-300 px-3 py-2">NOA</th>
          <th class="border border-gray-300 px-3 py-2">NTP</th>
        </tr>
      </thead>

      <!-- Body -->
      <tbody class="text-center text-sm">
        <!-- Goods and Services -->
        <tr>
          <td colspan="10" class="border border-gray-300 px-3 py-2 font-bold bg-indigo-100 text-indigo-800">Goods and Services</td>
        </tr>

        <!-- Item Rows -->
        <tr class="hover:bg-indigo-50 transition duration-200">
          <td class="border border-gray-300 px-3 py-6">1</td>
          <td class="border border-gray-300"><textarea oninput="autoExpand(this)" class="w-full min-h-[40px] p-2 border-none focus:outline-none resize-none" placeholder="Enter title"></textarea></td>
          <td class="border border-gray-300"><input id="abc1" type="number" class="w-32 h-10 p-2 border-none focus:outline-none" placeholder="Enter ABC" oninput="calculateTotal()"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><textarea oninput="autoExpand(this)" class="w-full min-h-[40px] p-2 border-none focus:outline-none resize-none" placeholder="Remarks"></textarea></td>
        </tr>

        <tr class="bg-gray-50 hover:bg-indigo-50 transition duration-200">
          <td class="border border-gray-300 px-3 py-6">2</td>
          <td class="border border-gray-300"><textarea oninput="autoExpand(this)" class="w-full min-h-[40px] p-2 border-none focus:outline-none resize-none" placeholder="Enter title"></textarea></td>
          <td class="border border-gray-300"><input id="abc2" type="number" class="w-32 h-10 p-2 border-none focus:outline-none" placeholder="Enter ABC" oninput="calculateTotal()"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><input type="date" class="w-full p-1 border-none focus:outline-none"></td>
          <td class="border border-gray-300"><textarea oninput="autoExpand(this)" class="w-full min-h-[40px] p-2 border-none focus:outline-none resize-none" placeholder="Remarks"></textarea></td>
        </tr>

        <!-- Recapitulation -->
        <tr>
          <td colspan="10" class="border border-gray-300 px-3 py-2 font-bold bg-purple-100 text-purple-800">RECAPITULATION</td>
        </tr>

        <!-- Total -->
        <tr class="font-bold bg-gray-100 hover:bg-indigo-50 transition duration-200">
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300">TOTAL</td>
          <td class="border border-gray-300"><input id="abcTotal" type="number" readonly class="w-32 h-10 p-2 border-none focus:outline-none bg-gray-50"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
          <td class="border border-gray-300"></td>
        </tr>

        
      </tbody>
    </table>
  </div>
<script>
  // Save data to localStorage
  function saveData() {
    const inputs = document.querySelectorAll("input, textarea");
    const data = {};
    inputs.forEach((input, index) => {
      data[index] = input.value;
    });
    localStorage.setItem("procurementTableData", JSON.stringify(data));
  }

  // Load data from localStorage
  function loadData() {
    const savedData = JSON.parse(localStorage.getItem("procurementTableData") || "{}");
    const inputs = document.querySelectorAll("input, textarea");
    inputs.forEach((input, index) => {
      if (savedData[index] !== undefined) {
        input.value = savedData[index];
        if (input.tagName.toLowerCase() === "textarea") {
          autoExpand(input);
        }
      }
    });
    calculateTotal(); // update total after loading
  }

  // Listen for changes to save automatically
  document.addEventListener("input", saveData);

  // Load data when the page is ready
  window.addEventListener("DOMContentLoaded", loadData);
</script>

</body>
</html>
